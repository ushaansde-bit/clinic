<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Book Appointment | Shree Physiotherapy Clinic</title>
  <meta name="description" content="Book your physiotherapy appointment with Dr. Aarthi Ganesh at Shree Physiotherapy Clinic.">

  <!-- PWA Meta Tags -->
  <meta name="theme-color" content="#1B4D3E">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Book Physio">
  <link rel="manifest" href="manifest.json">
  <link rel="apple-touch-icon" href="icons/icon-152x152.png">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500&family=DM+Sans:wght@500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  <link rel="stylesheet" href="css/style.css">
</head>
<body>

  <nav class="navbar" id="navbar">
    <div class="container nav-container">
      <a href="index.html" class="nav-brand">
        <span class="brand-name">Dr. Aarthi Ganesh</span>
        <span class="brand-subtitle">Shree Physiotherapy Clinic</span>
      </a>
      <ul class="nav-menu" id="navMenu">
        <li class="nav-item nav-item-mobile"><a href="blog.html" class="nav-link"><i class="fas fa-blog"></i> Blog</a></li>
      </ul>
      <div class="nav-cta">
        <a href="blog.html" class="nav-blog-link" title="Visit Blog"><i class="fas fa-blog"></i></a>
        <a href="index.html" class="btn btn-primary"><i class="fas fa-home"></i> Home</a>
      </div>
      <button class="hamburger" id="hamburger" aria-label="Toggle menu">
        <span class="bar"></span><span class="bar"></span><span class="bar"></span>
      </button>
    </div>
  </nav>

  <div class="page-header">
    <div class="container">
      <h1>Book Your Appointment</h1>
      <p>Select a date and time that works for you. We'll confirm your booking via WhatsApp.</p>
    </div>
  </div>

  <section class="booking-section">
    <div class="container">
      <div class="booking-layout">
        <div class="calendar-wrapper">
          <div class="calendar-header">
            <h3 id="calendarMonthYear">January 2025</h3>
            <div class="calendar-nav">
              <button onclick="changeMonth(-1)" aria-label="Previous month"><i class="fas fa-chevron-left"></i></button>
              <button onclick="changeMonth(1)" aria-label="Next month"><i class="fas fa-chevron-right"></i></button>
            </div>
          </div>
          <div class="calendar-days-header">
            <span>Sun</span><span>Mon</span><span>Tue</span><span>Wed</span><span>Thu</span><span>Fri</span><span>Sat</span>
          </div>
          <div class="calendar-grid" id="calendarGrid"></div>
          <div class="clinic-hours-info" style="margin-top:20px;padding:16px;background:rgba(27,77,62,0.04);border-radius:12px;border:1px solid rgba(27,77,62,0.1);">
            <h4 style="font-family:var(--font-body);font-size:0.9rem;font-weight:600;color:var(--primary);margin-bottom:8px;"><i class="fas fa-clock" style="margin-right:6px;"></i>Clinic Hours</h4>
            <p style="font-size:0.82rem;color:var(--text-muted);margin:0;line-height:1.6;">
              <strong>Morning:</strong> 10:00 AM - 1:30 PM<br>
              <strong>Evening:</strong> 6:00 PM - 8:30 PM<br>
              <span style="color:var(--accent);">Closed on Sundays</span>
            </p>
          </div>
          <div class="time-slots" id="timeSlotsSection" style="display:none;">
            <h4>Available Time Slots for <span id="selectedDateText"></span></h4>
            <div class="time-slots-grid" id="timeSlotsGrid"></div>
          </div>
        </div>

        <div class="patient-form">
          <h3><i class="fas fa-user-plus" style="color:var(--primary);margin-right:8px;"></i>Patient Details</h3>
          <form id="bookingForm" onsubmit="submitBooking(event)">
            <div class="form-row">
              <div class="form-group">
                <label for="patientName">Full Name *</label>
                <input type="text" id="patientName" required placeholder="Enter your full name">
              </div>
              <div class="form-group">
                <label for="patientAge">Age *</label>
                <input type="number" id="patientAge" required placeholder="Age" min="1" max="120">
              </div>
            </div>
            <div class="form-row">
              <div class="form-group">
                <label for="patientGender">Gender *</label>
                <select id="patientGender" required>
                  <option value="">Select Gender</option>
                  <option value="Female">Female</option>
                  <option value="Male">Male</option>
                  <option value="Other">Other</option>
                </select>
              </div>
              <div class="form-group">
                <label for="patientPhone">Phone Number *</label>
                <input type="tel" id="patientPhone" required placeholder="+91 XXXXX XXXXX" pattern="[0-9+\s\-]{10,15}">
              </div>
            </div>
            <div class="form-group">
              <label for="patientEmail">Email (Optional)</label>
              <input type="email" id="patientEmail" placeholder="your@email.com">
            </div>
            <div class="form-group">
              <label for="patientAddress">Address (Optional)</label>
              <input type="text" id="patientAddress" placeholder="Your address">
            </div>
            <div class="form-row">
              <div class="form-group">
                <label for="serviceType">Service Required *</label>
                <select id="serviceType" required>
                  <option value="">Select Service</option>
                  <option value="General Consultation">General Consultation</option>
                  <option value="Fascial Manipulation">Fascial Manipulation</option>
                  <option value="Orthopedic Rehabilitation">Orthopedic Rehabilitation</option>
                  <option value="Neuro Rehabilitation">Neuro Rehabilitation</option>
                  <option value="Women's Health Physio">Women's Health Physio</option>
                  <option value="Elderly Home Care">Elderly Home Care</option>
                  <option value="Pediatric Physiotherapy">Pediatric Physiotherapy</option>
                  <option value="Follow-up">Follow-up Visit</option>
                </select>
              </div>
              <div class="form-group">
                <label for="appointmentDuration">Duration</label>
                <div class="fixed-duration-display">
                  <i class="fas fa-clock"></i>
                  <span>15 minutes</span>
                  <small>Standard appointment</small>
                </div>
                <input type="hidden" id="appointmentDuration" value="15">
              </div>
            </div>
            <div class="form-group">
              <label for="patientComplaint">Chief Complaint *</label>
              <textarea id="patientComplaint" required placeholder="Describe your condition or symptoms..."></textarea>
            </div>
            <div class="form-group">
              <label for="medicalHistory">Medical History (Optional)</label>
              <textarea id="medicalHistory" placeholder="Any existing conditions, surgeries, medications..."></textarea>
            </div>
            <div id="bookingSummary" style="display:none;background:rgba(27,77,62,0.05);padding:16px;border-radius:12px;margin-bottom:20px;border:1px solid rgba(27,77,62,0.15);">
              <h4 style="font-family:var(--font-body);margin-bottom:8px;color:var(--primary);font-size:0.95rem;"><i class="fas fa-calendar-check"></i> Booking Summary</h4>
              <p style="font-size:0.9rem;color:var(--text-muted);">
                Date: <strong id="summaryDate">-</strong><br>
                Time: <strong id="summaryTime">-</strong><br>
                Duration: <strong id="summaryDuration">-</strong>
              </p>
            </div>
            <button type="submit" class="btn btn-primary" style="width:100%;justify-content:center;" id="submitBtn" disabled>
              <i class="fas fa-check-circle"></i> Confirm Appointment
            </button>
            <p style="text-align:center;margin-top:12px;font-size:0.82rem;color:var(--text-muted);">You'll receive a WhatsApp confirmation after booking.</p>
          </form>
        </div>
      </div>
    </div>
  </section>

  <div class="modal-overlay" id="confirmationModal">
    <div class="modal">
      <button class="modal-close" onclick="closeModal('confirmationModal')">&times;</button>
      <div style="text-align:center;margin-bottom:24px;">
        <div style="width:80px;height:80px;border-radius:50%;background:rgba(34,197,94,0.1);display:flex;align-items:center;justify-content:center;margin:0 auto 16px;font-size:2rem;color:#22C55E;">
          <i class="fas fa-check-circle"></i>
        </div>
        <h2 style="font-size:1.5rem;">Appointment Booked!</h2>
        <p style="color:var(--text-muted);margin-top:8px;">Your appointment has been successfully scheduled.</p>
      </div>
      <div style="background:var(--bg);border-radius:12px;padding:20px;margin-bottom:24px;">
        <div style="display:grid;gap:8px;font-size:0.9rem;">
          <div><strong>Patient:</strong> <span id="confName"></span></div>
          <div><strong>Date:</strong> <span id="confDate"></span></div>
          <div><strong>Time:</strong> <span id="confTime"></span></div>
          <div><strong>Duration:</strong> <span id="confDuration"></span></div>
          <div><strong>Service:</strong> <span id="confService"></span></div>
        </div>
      </div>
      <div style="display:flex;gap:12px;">
        <a id="whatsappConfirmLink" href="#" target="_blank" class="btn btn-whatsapp" style="flex:1;justify-content:center;">
          <i class="fab fa-whatsapp"></i> Confirm via WhatsApp
        </a>
        <a href="index.html" class="btn btn-outline" style="flex:1;justify-content:center;">
          <i class="fas fa-home"></i> Go Home
        </a>
      </div>
    </div>
  </div>

  <footer class="footer">
    <div class="container">
      <div class="footer-grid">
        <div class="footer-about">
          <h3 class="footer-brand">Shree Physiotherapy Clinic</h3>
          <p>We provide expert physiotherapy care specializing in women's health, elderly home care, and advanced pain management in Periyanaickenpalayam.</p>
          <div class="footer-social">
            <a href="https://www.instagram.com/dr.aarti.physio" target="_blank" rel="noopener noreferrer" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
            <a href="https://wa.me/919092294466" target="_blank" rel="noopener noreferrer" aria-label="WhatsApp"><i class="fab fa-whatsapp"></i></a>
            <a href="tel:9092294466" aria-label="Phone"><i class="fas fa-phone-alt"></i></a>
          </div>
        </div>
        <div class="footer-links">
          <h4>Quick Links</h4>
          <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="index.html#about">About</a></li>
            <li><a href="index.html#services">Services</a></li>
            <li><a href="index.html#testimonials">Testimonials</a></li>
            <li><a href="blog.html">Blog</a></li>
            <li><a href="index.html#contact">Contact</a></li>
            <li><a href="dashboard.html">Doctor Login</a></li>
          </ul>
        </div>
        <div class="footer-contact">
          <h4>Contact Info</h4>
          <ul>
            <li><i class="fas fa-map-marker-alt"></i><span>Bus Stop, No.454, LIC Siva Complex, Vannakoil, Periyanaickenpalayam, Tamil Nadu 641047</span></li>
            <li><i class="fas fa-phone-alt"></i><span><a href="tel:8220040844">8220040844</a> | <a href="tel:9092294466">9092294466</a></span></li>
            <li><i class="fab fa-whatsapp"></i><span><a href="https://wa.me/919092294466" target="_blank" rel="noopener noreferrer">+91 9092294466</a></span></li>
            <li><i class="fas fa-clock"></i><span>Mon-Sat: 9AM-7PM | Sun: By Appointment</span></li>
          </ul>
        </div>
      </div>
      <div class="footer-bottom">
        <p>&copy; 2025 Shree Physiotherapy Clinic | Best Physiotherapist in Coimbatore</p>
      </div>
    </div>
  </footer>

  <div class="toast" id="toast"><i class="fas fa-info-circle"></i><span id="toastMessage">Notification</span></div>

  <a href="https://wa.me/919092294466?text=Hello%20Shree%20Physiotherapy%20Clinic,%20I%20would%20like%20to%20book%20an%20appointment." target="_blank" class="whatsapp-float">
    <i class="fab fa-whatsapp"></i>
  </a>

  <!-- Firebase SDK (for cross-browser cloud sync) -->
  <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-database-compat.js"></script>

  <script src="js/main.js"></script>
  <script src="js/booking.js"></script>
  <script src="js/cloud-sync.js"></script>
  <script src="js/pwa.js"></script>
</body>
</html>
